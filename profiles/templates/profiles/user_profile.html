{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block content %}

<div class="jumbotron home-1 text-center mb-4">
    <h1 class="display-4"><strong>My Profile</strong></h1>
</div>
<!-- Current Details -->
<div class="row justify-content-center">
    <div class="col-6 fw-bold mx-4 my-4 text-center">
        <h2>Current Details</h2>
        <table class="table table-striped table-hover w-auto table-bordered text-white table-responsive my-4 profile-table">
            <tr>
                <td><strong>First Name: </strong></td>
                <td>{{ first_name }}</td>
            </tr>
            <tr>
                <td><strong>Last Name: </strong></td>
                <td>{{ last_name }}</td>
            </tr>
            <tr>
                <td><strong>Email: </strong></td>
                <td>{{ email }}</td>
            </tr>
            <tr>
                <td><strong>Phone Number: </strong></td>
                <td>{{ phone_number }}</td>
            </tr>
            <tr>
                <td><strong>Address 1: </strong></td>
                <td>{{ address_1 }}</td>
            </tr>
            <tr>
                <td><strong>Address 2: </strong></td>
                <td>{{ address_2 }}</td>
            </tr>
            <tr>
                <td><strong>City: </strong></td>
                <td>{{ city }}</td>
            </tr>
            <tr>
                <td><strong>Postcode: </strong></td>
                <td>{{ postcode }}</td>
            </tr>
            <tr>
                <td><strong>County: </strong></td>
                <td>{{ county }}</td>
            </tr>
            <tr>
                <td><strong>Country: </strong></td>
                <td>{{ country }}</td>
            </tr>
        </table>
        <a href="edit/{{ user }}"><button class="my-1 positive-button-lg">Update my Details</button></a>
    </div>
    <!-- Order History -->
    <div class="col-6 fw-bold text-center">
        <h2>Order History</h2>
        {% if orders %}
        <table class="table table-striped table-hover w-auto table-bordered text-white my-4 table-responsive profile-table">
            <tr>
                <th scope="col" class="w-auto">Order Number:</th>
                <th scope="col" class="w-auto">Order Date:</th>
                <th scope="col" colspan=2>Total:</th>
            </tr>
            {% for order in orders %}
            <tr>
                <td scope="row">{{ order.order_number }}</td>
                <td> {{ order.date }} </td>
                <td>Â£{{ order.order_total }} </td>
                <td><a href="order/{{ order.id }}"><button class="update-button positive-button">Order
                            Details</button></a>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <div>
            Uh oh- no orders yet...
        </div>
        {% endif %}
    </div>
</div>


{% endblock %}