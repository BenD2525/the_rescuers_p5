{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block content %}

<div class="jumbotron home-1 text-center mb-4">
    <h1 class="display-4"><strong>My Profile</strong></h1>
</div>
<!-- Current Details -->
<div class="row algin-items-center">
    <div class="col-6 fw-bold">
        <h2>Current Details</h2>
        <ul>
            <li>
                Email: {{ email }}
            </li>
            <li>
                Phone Number: {{ phone_number }}
            </li>
            <li>
                Address 1: {{ address_1 }}
            </li>
            <li>
                Address 2: {{ address_2 }}
            </li>
            <li>
                City: {{ city }}
            </li>
            <li>
                Postcode: {{ postcode }}
            </li>
            <li>
                County: {{ county }}
            </li>
            <li>
                Country: {{ country }}
            </li>
        </ul>
    </div>
    <div class="col-auto text-center p-2">
        <a href="edit/{{ user }}"><button class="my-1 positive-button-lg">Update my Details</button></a>
    </div>
    <!-- Order History -->
    <div class="col-6 fw-bold">
        <h2>Order History</h2>
        {% if order %}
        <table class="table table-striped table-hover w-auto table-bordered">
            <tr>
                <th scope="col" colspan="2" class="w-auto">Order Number:</th>
                <th scope="col">Order Date:</th>
                <th scope="col">Total:</th>
            </tr>
            {% for order in orders %}
            <tr>
                <td scope="row">{{ order.order_number }}</td>
                <td> {{ order.date }} </td>
                <td>Â£{{ order.order_total }} </td>
                <td><a><button class="update-button positive-button">Order Details</button></a>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <div>
            Uh oh- no orders yet...
        </div>
        {% endif %}
    </div>
</div>


{% endblock %}